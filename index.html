<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LONG B·∫¢O TOOL A.I 2026</title>
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary-accent: #fcee0a;
      --primary-yellow: #fcee0a;
      --cyber-cyan: #0abdc6;
      --cyber-magenta: #ff00ff;
      --glitch-red: #ff3c3c;
      --bg-dark: #0a0a14;
      --container-bg: rgba(10, 20, 30, 0.85);
      --input-bg: rgba(10, 10, 20, 0.9);
      --text-light: #e0e0e0;
      --text-dark: #0a0a14;
      --border-color: rgba(10, 189, 198, 0.3);
      --warning-bg: rgba(252, 238, 10, 0.1);
    }
    
    html, body { 
        margin: 0; padding: 0; height: 100%; font-family: 'Rajdhani', sans-serif; 
        color: var(--text-light); overflow: hidden;
        background-color: var(--bg-dark);
    }

    #scanlines-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%); background-size: 100% 4px; z-index: 3; pointer-events: none; }
    .hidden { display: none !important; }
    .clip-path-angular { clip-path: polygon(0 8px, 8px 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%); }
    .clip-path-large { clip-path: polygon(0 15px, 15px 0, 100% 0, 100% calc(100% - 15px), calc(100% - 15px) 100%, 0 100%); }
    .clip-path-button { clip-path: polygon(0 10px, 10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%); }

    #boot-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--bg-dark); z-index: 10002; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: opacity 1s ease-in-out; }
    #boot-log { width: 90%; max-width: 600px; font-size: 1.2em; color: var(--cyber-cyan); text-align: left; margin-bottom: 30px; height: 200px; }
    #boot-log p { margin: 5px 0; opacity: 0; transition: opacity 0.5s ease; }
    #boot-log p.visible { opacity: 1; }
    #progress-bar-container { width: 90%; max-width: 600px; height: 30px; border: 2px solid var(--border-color); background: rgba(0,0,0,0.3); padding: 4px; }
    #progress-bar { width: 0%; height: 100%; background-color: var(--primary-accent); box-shadow: 0 0 15px var(--primary-accent); transition: width 0.2s linear; }
    #progress-text { color: var(--text-light); margin-top: 10px; font-size: 1.2em; font-weight: 700; }

    /* === CSS CHO M√ÄN H√åNH CH·ªåN L·ª∞A === */
    #choiceScreen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: transparent; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10001; text-align: center; padding: 20px; box-sizing: border-box; }
    #choice-content { z-index: 1; background: rgba(10,10,20,0.8); backdrop-filter: blur(5px); padding: 40px 30px; border: 1px solid var(--border-color); width: 100%; max-width: 500px; display: flex; flex-direction: column; align-items: center;}
    #choice-content h2 { font-size: 2.2em; font-weight: 700; color: var(--primary-accent); text-shadow: 0 0 5px var(--primary-accent), 0 0 10px var(--primary-accent); margin-top: 0; margin-bottom: 30px; letter-spacing: 2px; }
    #choice-buttons { display: flex; flex-direction: column; gap: 20px; width: 100%; }
    .choice-btn { font-family: 'Rajdhani', sans-serif; font-weight: 700; padding: 20px 35px; cursor: pointer; font-size: 1.3em; text-transform: uppercase; letter-spacing: 1px; background: var(--primary-accent); color: var(--text-dark); border: none; transition: all 0.2s ease-out; }
    .choice-btn:hover { background: white; color: black; box-shadow: 0 0 20px white; }

    /* === CSS CHO N√öT VIP === */
    .choice-btn-vip {
        background: linear-gradient(45deg, var(--glitch-red), var(--cyber-magenta));
        color: white;
        border: 2px solid var(--cyber-magenta);
        animation: pulse-vip 2s infinite;
    }
    .choice-btn-vip:hover {
        animation-play-state: paused;
        box-shadow: 0 0 25px var(--cyber-magenta);
    }
    @keyframes pulse-vip {
        0% { box-shadow: 0 0 5px var(--cyber-magenta); }
        50% { box-shadow: 0 0 20px var(--glitch-red); }
        100% { box-shadow: 0 0 5px var(--cyber-magenta); }
    }
    
    /* === CSS CHO M√ÄN H√åNH ƒêƒÇNG NH·∫¨P === */
    #loginScreen { opacity: 0; visibility: hidden; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: transparent; display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 10001; text-align: center; padding: 20px; box-sizing: border-box; transition: opacity 1s ease-in-out, visibility 1s ease-in-out; }
    #loginScreen.visible { opacity: 1; visibility: visible; }
    #loginScreen.hidden-overlay { opacity: 0; visibility: hidden; pointer-events: none; }
    #matrix-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
    #login-content { z-index: 1; background: rgba(10,10,20,0.8); backdrop-filter: blur(5px); padding: 30px; border: 1px solid var(--border-color); width: 100%; max-width: 420px; display: flex; flex-direction: column; align-items: center;}
    #login-logo { width: 150px; height: 150px; border-radius: 50%; object-fit: cover; margin-bottom: 20px; border: 3px solid var(--primary-accent); box-shadow: 0 0 20px var(--primary-accent); }
    #loginScreen h2 { font-size: 2.2em; font-weight: 700; color: var(--primary-accent); text-shadow: 0 0 5px var(--primary-accent), 0 0 10px var(--primary-accent); margin-top: 0; margin-bottom: 15px; letter-spacing: 2px; }
    #login-warning { background: var(--warning-bg); border: 1px solid var(--primary-accent); padding: 15px; margin-bottom: 20px; width: 90%; max-width: 380px; }
    #login-warning p { margin: 0 0 15px 0; font-weight: 500; line-height: 1.5; color: var(--primary-yellow); }
    .register-btn { background: var(--primary-accent); color: var(--text-dark); padding: 8px 20px; text-decoration: none; font-weight: 700; text-transform: uppercase; transition: all 0.3s ease; }
    .register-btn:hover { background: white; box-shadow: 0 0 15px white; }
    #loginScreen input, .custom-select-wrapper { font-family: 'Rajdhani', sans-serif; margin: 8px 0; width: 90%; max-width: 380px; }
    #loginScreen input { padding: 14px 20px; background: var(--input-bg); color: var(--text-light); font-size: 1.1em; border: 1px solid var(--border-color); transition: all 0.2s ease; }
    #loginScreen input:focus { outline: none; border-color: var(--primary-accent); box-shadow: 0 0 15px var(--primary-accent); }
    #loginScreen button { font-family: 'Rajdhani', sans-serif; font-weight: 700; padding: 16px 35px; margin-top: 20px; cursor: pointer; font-size: 1.25em; text-transform: uppercase; letter-spacing: 1px; background: var(--primary-accent); color: var(--text-dark); border: none; transition: all 0.2s ease-out; }
    #loginScreen button:hover { background: white; color: black; box-shadow: 0 0 20px white; }
    #error { color: var(--glitch-red); margin-top: 20px; height: 1.2em; font-weight: 500;}
    .custom-select-wrapper { position: relative; }
    .custom-select-trigger { position: relative; padding: 14px 20px; background: var(--input-bg); color: var(--text-light); font-size: 1.1em; border: 1px solid var(--border-color); cursor: pointer; transition: all 0.2s ease; clip-path: polygon(0 8px, 8px 0, 100% 0, 100% calc(100% - 8px), calc(100% - 8px) 100%, 0 100%); }
    .custom-select-trigger::after { content: '‚ñº'; position: absolute; right: 20px; top: 50%; transform: translateY(-50%); transition: transform 0.3s; }
    .custom-select-wrapper.open .custom-select-trigger { border-color: var(--primary-accent); box-shadow: 0 0 15px var(--primary-accent); }
    .custom-select-wrapper.open .custom-select-trigger::after { transform: translateY(-50%) rotate(180deg); }
    .custom-options { position: absolute; bottom: 100%; left: 0; right: 0; background: var(--input-bg); border: 1px solid var(--primary-accent); z-index: 10; list-style: none; padding: 0; margin: 0 0 5px 0; max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
    .custom-select-wrapper.open .custom-options { max-height: 200px; }
    .custom-option { padding: 14px 20px; cursor: pointer; transition: background 0.2s, color 0.2s; }
    .custom-option:hover { background: var(--primary-accent); color: var(--text-dark); }
    .custom-option.selected { background: var(--primary-accent); color: var(--text-dark); font-weight: 700;}

    /* === CSS CHO C√ÅC MODAL === */
    .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); z-index: 20000; display: none; justify-content: center; align-items: center; }
    .modal-content { background: var(--container-bg); border: 2px solid var(--primary-accent); padding: 30px; width: 90%; max-width: 500px; text-align: center; color: var(--text-light); box-shadow: 0 0 25px var(--primary-accent); }
    .modal-content p { font-size: 1.2em; line-height: 1.6; margin-bottom: 30px;}
    .modal-buttons button { padding: 12px 25px; margin: 0 10px; font-size: 1em; font-weight: 700; cursor: pointer; border: 1px solid var(--primary-accent); }
    #modal-confirm, #vip-confirm { background: var(--primary-accent); color: var(--text-dark); }
    #modal-cancel, #vip-cancel { background: transparent; color: var(--primary-accent); }
    
    /* === CSS C·∫¢NH B√ÅO VIP === */
    #vip-warning-modal .modal-content { border-color: var(--glitch-red); box-shadow: 0 0 25px var(--glitch-red); }
    #vip-warning-modal h3 { color: var(--glitch-red); text-shadow: 0 0 10px var(--glitch-red); margin: 0 0 20px 0; font-size: 1.5em; text-transform: uppercase; }
    .blinking-warning {
        font-weight: 700;
        color: var(--primary-yellow);
        animation: blink-warning 1.5s infinite;
    }
    @keyframes blink-warning {
        0%, 100% { color: var(--primary-yellow); text-shadow: 0 0 5px var(--primary-yellow); }
        50% { color: var(--text-light); text-shadow: none; }
    }
    #vip-warning-modal #vip-confirm { background: var(--glitch-red); color: white; border-color: var(--glitch-red); }
    #vip-warning-modal #vip-cancel { background: transparent; color: var(--glitch-red); border-color: var(--glitch-red); }

    /* === CSS BANNER === */
    #login-footer { position: absolute; bottom: 10px; left: 0; width: 100%; text-align: center; font-size: 1em; z-index: 2; color: rgba(255,255,255,0.7); }
    #login-footer a { color: var(--cyber-cyan); text-decoration: none; font-weight: 700; }
    #login-footer p { margin: 5px 0; }
    
    #app { z-index: 5; width: 100%; box-sizing: border-box; position: relative; height: 100%; overflow-y: auto; overflow-x: hidden; 
        background-color: var(--bg-dark);
        background-image: 
            radial-gradient(ellipse at 50% 0%, rgba(10, 189, 198, 0.25) 0%, transparent 50%),
            radial-gradient(ellipse at 50% 100%, rgba(252, 238, 10, 0.15) 0%, transparent 50%);
    }
    header { position:relative; z-index: 10; display: flex; justify-content: space-between; align-items: center; padding: 15px 30px; text-align: center; border-bottom: 2px solid var(--border-color); background: rgba(10, 10, 20, 0.5); }
    header h1 { color: var(--primary-accent); text-shadow: 0 0 8px var(--primary-accent); margin: 0; font-size: 2.2em; text-transform: uppercase; flex-grow: 1; text-align: center;}
    #settings-button { font-size: 2em; cursor: pointer; color: var(--text-light); transition: transform 0.3s, color 0.3s; margin-left: 20px; }
    #settings-button:hover { transform: rotate(90deg); color: var(--primary-accent); }
    #settings-panel { display: none; position: fixed; top: 80px; right: 20px; background: var(--container-bg); border: 1px solid var(--border-color); padding: 20px; z-index: 10000; }
    #settings-panel.visible { display: block; }
    #settings-panel h3 { margin: 0 0 15px 0; color: var(--primary-accent); text-align: center; }
    .settings-group { margin-bottom: 15px; }
    .color-swatches button { width: 30px; height: 30px; border: 2px solid var(--text-light); margin: 5px; cursor: pointer; }
    #swatch-yellow { background: var(--primary-yellow); } #swatch-cyan { background: var(--cyber-cyan); } #swatch-magenta { background: var(--cyber-magenta); }
    .sound-toggle { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    
    /* === CSS HI·ªÇN TH·ªä XU === */
    #coin-display {
        background: rgba(0,0,0,0.5);
        border: 1px solid var(--border-color);
        padding: 8px 15px;
        font-size: 1.2em;
        font-weight: 700;
        color: var(--primary-accent);
        display: flex;
        align-items: center;
        gap: 8px;
    }
    #coin-balance {
        color: white;
        min-width: 30px;
        text-align: right;
    }

    .ai-container { position:relative; z-index: 5; text-align: center; padding: 25px 10px 0 10px; }
    .ai-avatar-wrapper { width: 100%; max-width: 250px; margin: 0 auto; border: 1px solid var(--border-color); background: black; transition: box-shadow 0.3s; }
    .ai-avatar-wrapper.analyzing { box-shadow: 0 0 25px var(--primary-accent), inset 0 0 25px var(--primary-accent); animation: intense-glitch 1.5s infinite; }
    @keyframes intense-glitch { 0%,100% { transform: skew(0deg); } 5% { transform: skew(3deg); } 10% { transform: skew(-3deg); } 15% { transform: skew(0deg) scale(1.01); } 20% { transform: skew(0deg) scale(1); } }
    .ai-avatar-wrapper img { width: 100%; display: block; filter: brightness(0.9); }
    #ai-status-panel { position:relative; z-index: 5; max-width: 900px; margin: 25px auto; padding: 15px 20px; background: rgba(0,0,0,0.5); border: 1px solid var(--border-color); font-size: 1.1em; }
    #ai-status-panel .label { color: var(--primary-accent); font-weight: 700; margin-right: 10px; }
    #ai-log-text { color: var(--cyber-cyan); font-weight: 500; }
    #ai-log-text .highlight { color: var(--primary-yellow); font-weight: 700; }
    .main { position:relative; z-index: 5; padding: 25px; max-width: 900px; margin: 0 auto 25px auto; background: var(--container-bg); backdrop-filter: blur(5px); border: 1px solid var(--border-color); box-shadow: 0 0 25px rgba(10, 189, 198, 0.1); }
    .selection-area { display: flex; flex-wrap: wrap; justify-content: space-between; margin-bottom: 15px; padding: 15px; border: 1px solid var(--border-color); }
    .selection-area .form-group { display: flex; flex-direction: column; flex-basis: calc(50% - 15px); }
    .selection-area label { margin-bottom: 10px; color: var(--primary-accent); font-weight: 500; }
    .selection-area select { font-family: 'Rajdhani', sans-serif; background: var(--input-bg); color: var(--text-light); border: 1px solid var(--border-color); padding: 14px 18px; width: 100%; cursor: pointer; }
    #prediction-lock { padding: 20px; margin-top: 20px; margin-bottom: 20px; border: 2px solid var(--primary-accent); background: radial-gradient(ellipse at center, rgba(10, 20, 30, 0.95) 0%, #0a0a14 100%); box-shadow: 0 0 15px var(--primary-accent); min-height: 120px; display: flex; flex-direction: column; justify-content: center; }
    #prediction-lock h3 { margin: 0 0 10px 0; color: var(--primary-accent); font-size: 1.2em; text-transform: uppercase; border-bottom: 1px solid var(--border-color); padding-bottom: 5px; text-align: center;}
    #prediction-lock span { display: block; text-align: center; }
    #ai-prediction-text { font-size: 1.8em; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;}
    #ai-confidence-value { font-size: 1.1em; color: var(--cyber-cyan); margin-top: 5px;}
    .predict-btn { width: 100%; padding: 20px; font-size: 1.45em; background: var(--primary-accent); color: var(--text-dark); border: none; font-weight: 700; cursor: pointer; text-transform: uppercase; margin-top: 15px; transition: all 0.2s ease; }
    .predict-btn:hover:not(:disabled) { background: white; box-shadow: 0 0 20px white; }
    .predict-btn:disabled { background: #555; color: #888; cursor: not-allowed; }
    #analysis-deck { display: none; padding-top: 20px; }
    #analysis-deck.visible { display: block; }
    #data-panel { display: flex; flex-direction: column; gap: 15px; padding: 20px; border: 1px solid var(--border-color); background: rgba(0,0,0,0.4); }
    .data-block { padding: 10px; border: 1px solid var(--border-color); }
    .data-block h3 { margin: 0 0 10px 0; color: var(--primary-accent); font-size: 1.2em; text-transform: uppercase; border-bottom: 1px solid var(--border-color); padding-bottom: 5px; }
    #stats-chart-container { position: relative; height: 120px; }
    .road-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(20px, 1fr)); gap: 4px; }
    .road-bead { width: 20px; height: 20px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.9em; color: var(--text-dark); }
    .player-win-bead { background: var(--cyber-cyan); } .banker-win-bead { background: var(--glitch-red); } .tie-win-bead { background: var(--primary-accent); }
    #ai-data-stream { height: 100px; overflow: hidden; font-family: monospace; font-size: 0.8em; color: var(--cyber-cyan); opacity: 0.6;}
    #ai-data-stream div { white-space: pre; }
    
    @media (max-width: 768px) {
        header { flex-direction: column; gap: 10px; padding-bottom: 10px; }
        header h1 { font-size: 1.6em; order: 1; }
        #coin-display { order: 2; }
        #settings-button { position: absolute; top: 15px; right: 15px; order: 3; }
        #login-content, #choice-content { width: 95%; padding: 20px;}
        #login-logo { width: 120px; height: 120px; }
        #loginScreen h2, #choice-content h2 { font-size: 1.8em; margin-bottom: 15px; }
        .main { padding: 15px; margin-bottom: 15px; }
        .ai-container { padding: 15px 10px 0 10px; }
        #ai-status-panel { font-size: 1em; padding: 12px 15px; }
        #ai-log-text { display: block; margin-top: 5px; }
        .selection-area .form-group { flex-basis: 100%; margin-bottom: 15px; }
        .selection-area .form-group:last-child { margin-bottom: 0; }
        .selection-area select { padding: 12px 16px; }
        #prediction-lock { padding: 15px; min-height: 100px; }
        #ai-prediction-text { font-size: 1.4em; }
        #ai-confidence-value { font-size: 1em; }
        .predict-btn { padding: 18px; font-size: 1.3em; }
        #analysis-deck { gap: 15px; }
        #data-panel { padding: 15px; }
        .data-block { padding: 10px; }
    }
  </style>
</head>
<body>
  <div id="scanlines-overlay"></div>

  <div id="boot-screen">
    <div id="boot-log">
        <p data-text="KH·ªûI T·∫†O L√ïI A.I..."></p><p data-text="K·∫æT N·ªêI T·ªöI M·∫†NG L∆Ø·ªöI NIGHTCITY..."></p><p data-text="V∆Ø·ª¢T T∆Ø·ªúNG L·ª¨A BƒÇNG..."></p><p data-text="GI·∫¢I M√É LU·ªíNG D·ªÆ LI·ªÜU..."></p><p data-text="T·∫¢I GIAO TH·ª®C PH√ÇN T√çCH BACCARAT..."></p><p data-text="H·ªÜ TH·ªêNG S·∫¥N S√ÄNG."></p>
    </div>
    <div id="progress-bar-container" class="clip-path-large"><div id="progress-bar" class="clip-path-large"></div></div>
    <div id="progress-text">0%</div>
  </div>

  <canvas id="matrix-canvas"></canvas>

  <div id="choiceScreen" class="hidden">
    <div id="choice-content" class="clip-path-large">
        <h2>CH·ªåN GIAO TH·ª®C</h2>
        <div id="choice-buttons">
            <button id="goto-ai-tool" class="choice-btn clip-path-button" onmouseover="playSound('hover')" onmousedown="playSound('click')">TOOL A.I TH·∫æ H·ªÜ 3</button>
            <button id="goto-scan-tool" class="choice-btn choice-btn-vip clip-path-button" onmouseover="playSound('hover')" onmousedown="playSound('click')">TOOL QU√âT L√Å B√ÄI TR·ª∞C TUY·∫æN</button>
        </div>
    </div>
  </div>
  
  <div id="loginScreen">
    <div id="login-content" class="clip-path-large">
        <img src="https://i.ibb.co/ynX669hj/LOGO.png" alt="Logo" id="login-logo">
        <h2>TOOL BCR A.I TH·∫æ H·ªÜ 3</h2>
        <div id="login-warning" class="clip-path-angular">
            <p>TOOL CH·ªà HO·∫†T ƒê·ªòNG V·ªöI C√ÅC T√ÄI KHO·∫¢N ƒêƒÇNG K√ç T·∫†I WWW.F168.CODES</p>
            <a href="http://WWW.F168.CODES" target="_blank" class="register-btn clip-path-button">ƒêƒÇNG K√ç</a>
        </div>
        <input type="text" id="username" class="clip-path-angular" placeholder="M√É ƒê·∫∂C V·ª§ (T√™n t√†i kho·∫£n)" />
        <input type="text" id="code" class="clip-path-angular" placeholder="KH√ìA M√É H√ìA (M√£ truy c·∫≠p)" />
        <div class="custom-select-wrapper">
            <div class="custom-select-trigger">CH·∫æ ƒê·ªò AN TO√ÄN</div>
            <ul class="custom-options">
                <li class="custom-option selected" data-value="safe">CH·∫æ ƒê·ªò AN TO√ÄN</li>
                <li class="custom-option" data-value="rice">CH·∫æ ƒê·ªò C∆†M G·∫†O</li>
                <li class="custom-option" data-value="urgent">CH·∫æ ƒê·ªò G·ª† N·ª¢ KH·∫®N C·∫§P</li>
            </ul>
        </div>
        <select id="mode-select" class="hidden">
          <option value="safe" selected>CH·∫æ ƒê·ªò AN TO√ÄN</option>
          <option value="rice">CH·∫æ ƒê·ªò C∆†M G·∫†O</option>
          <option value="urgent">CH·∫æ ƒê·ªò G·ª† N·ª¢ KH·∫®N C·∫§P</option>
        </select>
        <button onclick="checkCode()" class="clip-path-button" onmouseover="playSound('hover')" onmousedown="playSound('click')">[ Thi·∫øt l·∫≠p K·∫øt n·ªëi ]</button>
        <p id="error"></p>
    </div>
    <footer id="login-footer">
        <p>ƒêƒÇNG K√ç T·∫†I : WWW.F168.CODES</p>
        <p>LI√äN H·ªÜ LONG B·∫¢O : <a href="https://t.me/longbaoF168" target="_blank">https://t.me/longbaoF168</a></p>
    </footer>
  </div>

  <div id="app" class="hidden">
    <header>
      <h1>GIAO TH·ª®C PH√ÇN T√çCH BACCARAT</h1>
      <div id="coin-display" class="clip-path-angular hidden">
          <span>XU: </span><span id="coin-balance">--</span> ü™ô
      </div>
      <div id="settings-button" onmouseover="playSound('hover')" onclick="toggleSettings()">‚öôÔ∏è</div>
      <div id="settings-panel" class="clip-path-large">
          <h3>C√ÄI ƒê·∫∂T</h3>
          <div class="settings-group">
              <label>M√†u Ch·ªß ƒê·∫°o:</label>
              <div class="color-swatches">
                  <button id="swatch-yellow" onclick="changeTheme('yellow')" onmouseover="playSound('hover')" onmousedown="playSound('click')"></button>
                  <button id="swatch-cyan" onclick="changeTheme('cyan')" onmouseover="playSound('hover')" onmousedown="playSound('click')"></button>
                  <button id="swatch-magenta" onclick="changeTheme('magenta')" onmouseover="playSound('hover')" onmousedown="playSound('click')"></button>
              </div>
          </div>
          <div class="settings-group">
              <div class="sound-toggle"><label for="music-toggle">Nh·∫°c N·ªÅn:</label><input type="checkbox" id="music-toggle" onchange="toggleMusic()"></div>
              <div class="sound-toggle"><label for="sfx-toggle">Hi·ªáu ·ª®ng √Çm Thanh:</label><input type="checkbox" id="sfx-toggle" checked></div>
          </div>
      </div>
    </header>
    <div class="ai-container"><div id="ai-avatar" class="ai-avatar-wrapper clip-path-large"><img src="ai-avatar.gif" alt="A.I. Avatar"/></div></div>
    <div id="ai-status-panel" class="clip-path-angular"><span class="label">> TR·∫†NG TH√ÅI A.I:</span><span id="ai-log-text">// CH·∫æ ƒê·ªò CH·ªú - ƒêANG ƒê·ª¢I L·ªÜNH //</span></div>
    <div class="main clip-path-large">
      <div class="selection-area clip-path-large">
        <div class="form-group"><label for="lobby-select">KHU V·ª∞C (S·∫¢NH):</label><select id="lobby-select" class="clip-path-angular" onchange="playSound('click')"><option value="">-- CH·ªåN --</option><option value="SEXY">SEXY</option><option value="DG">DG</option></select></div>
        <div class="form-group"><label for="table-select">TERMINAL (B√ÄN):</label><select id="table-select" class="clip-path-angular" onchange="playSound('click')" disabled><option value="">-- CH·ªú CH·ªåN KHU V·ª∞C --</option></select></div>
      </div>
      <div id="prediction-lock" class="data-block clip-path-angular">
        <h3>A.I. D·ª∞ ƒêO√ÅN</h3>
        <span id="ai-prediction-text">--</span>
        <span id="ai-confidence-value">ƒê·ªò CH·∫ÆC CH·∫ÆN: --%</span>
      </div>
      <div id="analysis-deck">
        <div id="data-panel" class="clip-path-large">
            <div id="statistics-display" class="data-block clip-path-angular"><h3>TH·ªêNG K√ä PHI√äN</h3><div id="stats-chart-container"><canvas id="stats-chart"></canvas></div></div>
            <div class="data-block clip-path-angular"><h3>LU·ªíNG D·ªÆ LI·ªÜU</h3><div id="ai-data-stream"></div></div>
            <div class="data-block clip-path-angular"><h3>L·ªäCH S·ª¨</h3><div id="bead-road-history" class="road-grid"></div></div>
        </div>
      </div>
      <button class="predict-btn clip-path-button" id="predictBtn" onclick="predictResult()" onmouseover="playSound('hover')" onmousedown="playSound('click')">[ Th·ª±c thi Ph√¢n t√≠ch ]</button>
    </div>
  </div>

  <div id="confirmation-modal" class="modal-overlay clip-path-large">
      <div class="modal-content">
          <p>KHI K√çCH HO·∫†T CH·∫æ ƒê·ªò N√ÄY B·∫†N PH·∫¢I ƒê·∫¢M B·∫¢O R·∫∞NG S·∫º LU√îN ƒê√ÅNH THEO CH·ªà TH·ªä C·ª¶A T√îI, N·∫æU ƒê√ÅNH L·ªÜCH T√îI S·∫º KH√îNG CH·ªäU TR√ÅCH NHI·ªÜM.</p>
          <div class="modal-buttons">
              <button id="modal-confirm" class="clip-path-button">ƒê·ªíNG √ù</button>
              <button id="modal-cancel" class="clip-path-button">KH√îNG ƒê·ªíNG √ù</button>
          </div>
      </div>
  </div>

  <div id="vip-warning-modal" class="modal-overlay clip-path-large">
    <div class="modal-content">
        <h3>C·∫¢NH B√ÅO CH·ª®C NƒÇNG VIP</h3>
        <p class="blinking-warning">ƒê√ÇY L√Ä CH·ª®C NƒÇNG VIP ! N·∫æU B·∫†N CH·ªåN V√î ƒê√ÇY PH·∫¢I ƒê·∫¢M B·∫¢O V·ªêN M·∫†NH ƒê·ªÇ CH∆†I !!<br>LI√äN H·ªÜ TELE @LONGBAOF168 ƒê·ªÇ ƒê∆Ø·ª¢C TRUY C·∫¨P !!</p>
        <div id="vip-modal-buttons" class="modal-buttons">
            <button id="vip-confirm" class="clip-path-button">ƒê·ªíNG √ù</button>
            <button id="vip-cancel" class="clip-path-button">HU·ª∂ B·ªé</button>
        </div>
    </div>
  </div>

  <audio id="bg-music" loop src="background-music.mp3"></audio>
  <audio id="sfx-click" src="sfx-click.mp3"></audio>
  <audio id="sfx-hover" src="sfx-hover.mp3"></audio>
  <audio id="sfx-typing" src="sfx-typing.mp3"></audio>
  <audio id="sfx-deal" src="deal.mp3"></audio>
  <script>
    let accounts, tablesByLobby, historyLog, sessionStats, statsChart, dataStreamInterval, dom, matrixInterval, currentUser;

    function playSound(soundName) {
        if (dom && dom.sound[soundName]) {
            const sound = dom.sound[soundName];
            if(sound) { sound.currentTime = 0; sound.play().catch(e => {}); }
        }
    }
    function toggleSettings() { playSound('click'); dom.settings.panel.classList.toggle('visible'); }
    function changeTheme(color) {
        playSound('click');
        const root = document.documentElement;
        const newColor = getComputedStyle(root).getPropertyValue(`--primary-${color}`).trim();
        root.style.setProperty('--primary-accent', newColor);
        if (statsChart) {
            statsChart.data.datasets[0].backgroundColor[2] = newColor;
            statsChart.update();
        }
    }
    function toggleMusic() {
        if (dom.settings.musicToggle.checked) dom.sound.music.play().catch(e => {});
        else dom.sound.music.pause();
    }
    function checkCode() {
        playSound('click');
        const codeInput = document.getElementById("code");
        const usernameInput = document.getElementById("username");
        const error = document.getElementById("error");
        if (!usernameInput.value.trim() || !codeInput.value.trim()) {
            error.textContent = "L·ªñI: Y√äU C·∫¶U M√É ƒê·∫∂C V·ª§ & KH√ìA"; return;
        }

        const enteredCode = codeInput.value.trim();
        if (accounts[enteredCode]) {
            currentUser = {
                code: enteredCode,
                coins: accounts[enteredCode].coins
            };
            
            dom.coinBalance.textContent = currentUser.coins;
            dom.coinDisplay.classList.remove('hidden');

            dom.loginScreen.classList.remove('visible');
            dom.loginScreen.classList.add('hidden-overlay');
            dom.appScreen.classList.remove("hidden");
            clearInterval(matrixInterval); 
            if (dom.settings.musicToggle.checked) dom.sound.music.play().catch(e => {});
        } else {
            error.textContent = "L·ªñI: KH√ìA M√É H√ìA KH√îNG H·ª¢P L·ªÜ";
        }
    }
    function animateText(element, final_text, isPrediction = false) {
        return new Promise(resolve => {
            const scrambleChars = 'AZXCVBNMSDFGHJKLQWERTYUIOP0123456789#?&@$*';
            let step = 0;
            const animate = () => {
                if (step > final_text.length) {
                    if (isPrediction) {
                         element.innerHTML = final_text.replace(/(NH√Ä CON|NH√Ä C√ÅI)/, `<span style="color: var(--cyber-cyan);">$1</span>`)
                                                   .replace(/(LONG B·∫¢O|CON ƒê√îI|C√ÅI ƒê√îI|HO√Ä)/, `<span style="color: var(--primary-accent);">$1</span>`);
                    }
                    resolve();
                    return;
                }
                let scrambled = '';
                for (let i = 0; i < final_text.length; i++) {
                    if (i < step) {
                        scrambled += final_text[i];
                    } else {
                        scrambled += scrambleChars[Math.floor(Math.random() * scrambleChars.length)];
                    }
                }
                element.innerHTML = scrambled;
                step++;
                setTimeout(animate, 40);
            };
            animate();
        });
    }
    function startDataStream() {
        const streamEl = document.getElementById('ai-data-stream');
        if (!streamEl) return;
        stopDataStream();
        dataStreamInterval = setInterval(() => {
            let line = `0x${Math.floor(Math.random() * 0xFFFFFF).toString(16).padStart(6, '0')}: `;
            for(let i = 0; i < 10; i++) { line += Math.random().toString(16).substring(2, 6) + ' '; }
            const div = document.createElement('div');
            div.textContent = line.trim();
            streamEl.prepend(div);
            if (streamEl.children.length > 10) streamEl.removeChild(streamEl.lastChild);
        }, 100);
    }
    function stopDataStream() { clearInterval(dataStreamInterval); }
    function initializeChart() {
        const ctx = document.getElementById('stats-chart').getContext('2d');
        const rootStyles = getComputedStyle(document.documentElement);
        statsChart = new Chart(ctx, {
            type: 'doughnut', data: { labels: ['Player', 'Banker', 'H√≤a'], datasets: [{ data: [0, 0, 0], backgroundColor: [ rootStyles.getPropertyValue('--cyber-cyan').trim(), rootStyles.getPropertyValue('--glitch-red').trim(), rootStyles.getPropertyValue('--primary-accent').trim() ], borderColor: 'var(--bg-dark)', borderWidth: 3 }] },
            options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } }, animation: { duration: 750 }, cutout: '70%' }
        });
    }
    function updateStatsChart() {
        if (!statsChart) return;
        statsChart.data.datasets[0].data = [sessionStats.player, sessionStats.banker, sessionStats.tie];
        statsChart.update();
    }
    function updateBeadRoadDisplay() {
        const historyContainer = document.getElementById('bead-road-history');
        if (!historyContainer) return;
        historyContainer.innerHTML = '';
        historyLog.slice(-36).forEach(result => {
            const bead = document.createElement('div');
            bead.classList.add('road-bead', `${result}-win-bead`);
            const winnerMap = { player: 'P', banker: 'B', tie: 'H' };
            bead.textContent = winnerMap[result];
            historyContainer.appendChild(bead);
        });
        historyContainer.scrollTop = historyContainer.scrollHeight;
    }
    function startMatrixRain() {
        const canvas = dom.matrixCanvas;
        if (!canvas) return;
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const katakana = '„Ç¢„Ç°„Ç´„Çµ„Çø„Éä„Éè„Éû„É§„É£„É©„ÉØ„Ç¨„Ç∂„ÉÄ„Éê„Éë„Ç§„Ç£„Ç≠„Ç∑„ÉÅ„Éã„Éí„Éü„É™„É∞„ÇÆ„Ç∏„ÉÇ„Éì„Éî„Ç¶„Ç•„ÇØ„Çπ„ÉÑ„Éå„Éï„É†„É¶„É•„É´„Ç∞„Ç∫„Éñ„Éó„Ç®„Çß„Ç±„Çª„ÉÜ„Éç„Éò„É°„É¨„É±„Ç≤„Çº„Éá„Éô„Éö„Ç™„Ç©„Ç≥„ÇΩ„Éà„Éé„Éõ„É¢„É®„Éß„É≠„É≤„Ç¥„Çæ„Éâ„Éú„Éù„É¥„ÉÉ„É≥';
        const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
        const nums = '0123456789';
        const alphabet = katakana + latin + nums;
        const fontSize = 16;
        const columns = canvas.width / fontSize;
        const rainDrops = [];
        for (let x = 0; x < columns; x++) {
            rainDrops[x] = 1;
        }
        const draw = () => {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#0F0';
            ctx.font = fontSize + 'px monospace';
            for (let i = 0; i < rainDrops.length; i++) {
                const text = alphabet.charAt(Math.floor(Math.random() * alphabet.length));
                ctx.fillText(text, i * fontSize, rainDrops[i] * fontSize);
                if (rainDrops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                    rainDrops[i] = 0;
                }
                rainDrops[i]++;
            }
        };
        if(matrixInterval) clearInterval(matrixInterval);
        matrixInterval = setInterval(draw, 33);
    }
    async function startBootSequence() {
        const logLines = Array.from(document.querySelectorAll('#boot-log p'));
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');
        const totalDuration = 3000;
        let progress = 0;
        const updateProgress = () => {
            progress += 1;
            const percentage = Math.min(100, progress);
            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `${Math.floor(percentage)}%`;
            if (progress < 100) { setTimeout(updateProgress, (totalDuration - 1000) / 100); }
        };
        updateProgress();
        for (let i = 0; i < logLines.length; i++) {
            await new Promise(resolve => setTimeout(resolve, 400));
            logLines[i].textContent = logLines[i].dataset.text;
            logLines[i].classList.add('visible');
            playSound('typing');
        }
        await new Promise(resolve => setTimeout(resolve, 500));
        dom.bootScreen.style.opacity = '0';
        dom.choiceScreen.classList.remove('hidden');
        startMatrixRain();
        setTimeout(() => dom.bootScreen.classList.add('hidden'), 1000);
    }
    async function predictResult() {
        if (!dom.lobbySelect.value || !dom.tableSelect.value) {
            alert("L·ªñI H·ªÜ TH·ªêNG: CH∆ØA CH·ªåN LU·ªíNG D·ªÆ LI·ªÜU."); return;
        }

        if (!currentUser || currentUser.coins < 5) {
            alert("L·ªñI H·ªÜ TH·ªêNG: KH√îNG ƒê·ª¶ XU ƒê·ªÇ TH·ª∞C HI·ªÜN PH√ÇN T√çCH. (Y√äU C·∫¶U: 5 XU)");
            return;
        }

        currentUser.coins -= 5;
        accounts[currentUser.code].coins = currentUser.coins; // C·∫≠p nh·∫≠t l·∫°i kho d·ªØ li·ªáu
        dom.coinBalance.textContent = currentUser.coins;

        dom.predictButton.disabled = true;
        dom.analysisDeck.classList.remove('visible');
        dom.ai.avatar.classList.add('analyzing');
        startDataStream();
        await animateText(dom.ai.logText, 'PH√ÇN T√çCH LU·ªíNG D·ªÆ LI·ªÜU L·ªäCH S·ª¨...');
        const primary = analyzePrimaryTrend(historyLog);
        await animateText(dom.ai.logText, 'QU√âT T√çN HI·ªÜU PH·ª§, T√çNH TO√ÅN X√ÅC SU·∫§T...');
        const secondary = analyzeSecondaryTrend();
        const combinedPrediction = `${primary.prediction} + ${secondary}`;
        dom.ai.confidenceValue.textContent = `ƒê·ªò CH·∫ÆC CH·∫ÆN: ${primary.confidence}%`;
        await animateText(dom.ai.predictionText, combinedPrediction, true);
        await animateText(dom.ai.logText, "T√çNH TO√ÅN HO√ÄN T·∫§T. KH√ìA D·ª∞ ƒêO√ÅN.");
        stopDataStream();
        dom.analysisDeck.classList.add('visible');
        updateHistoryInBackground();
    }
    function analyzePrimaryTrend(history) {
        const last_n = history.slice(-6).filter(r => r !== 'tie');
        if (last_n.length < 4) return { prediction: 'NH√Ä C√ÅI', confidence: '58.2'};
        const last4 = last_n.slice(-4);
        if (last4.length === 4 && last4.every(v => v === last4[0])) { 
            const pred = last4[0] === 'player' ? 'NH√Ä CON' : 'NH√Ä C√ÅI';
            return { prediction: pred, confidence: (Math.random() * 10 + 88).toFixed(1) }; 
        }
        if (last4.length === 4 && last4[0] !== last4[1] && last4[1] !== last4[2] && last4[2] !== last4[3]) { 
            const pred = last4[3] === 'player' ? 'NH√Ä C√ÅI' : 'NH√Ä CON';
            return { prediction: pred, confidence: (Math.random() * 10 + 70).toFixed(1) };
        }
        const last3 = last_n.slice(-3);
        if(last3.length === 3 && last3[0] === last3[1] && last3[1] !== last3[2]) { 
             const pred = last3[1] === 'player' ? 'NH√Ä CON' : 'NH√Ä C√ÅI';
            return { prediction: pred, confidence: (Math.random() * 15 + 65).toFixed(1) };
        }
        return { prediction: Math.random() > 0.5 ? 'NH√Ä CON' : 'NH√Ä C√ÅI', confidence: (Math.random() * 15 + 50).toFixed(1) };
    }
    function analyzeSecondaryTrend() {
        const rand = Math.random() * 100;
        if (rand < 50) return 'LONG B·∫¢O';
        if (rand < 70) return 'CON ƒê√îI';
        if (rand < 90) return 'C√ÅI ƒê√îI';
        return 'HO√Ä';
    }
    function getBaccaratValue(cardValue) { if (['K', 'Q', 'J', '10'].includes(cardValue)) return 0; if (cardValue === 'A') return 1; return parseInt(cardValue); }
    function updateHistoryInBackground() {
        playSound('deal');
        const values = ['A', '2', '3', '4', '5', '6', '7', '8', '9', '10', 'J', 'Q', 'K'];
        let deck = [];
        for (const value of values) { deck.push(value); deck.push(value); deck.push(value); deck.push(value); }
        deck.sort(() => Math.random() - 0.5);
        const playerCards = [deck.pop(), deck.pop()];
        const bankerCards = [deck.pop(), deck.pop()];
        let playerScore = (getBaccaratValue(playerCards[0]) + getBaccaratValue(playerCards[1])) % 10;
        let bankerScore = (getBaccaratValue(bankerCards[0]) + getBaccaratValue(bankerCards[1])) % 10;
        let playerNeedsCard = playerScore <= 5;
        let bankerNeedsCard = false;
        if (playerScore < 8 && bankerScore < 8) {
            if (playerNeedsCard) {
                const p3 = deck.pop();
                const p3v = getBaccaratValue(p3);
                playerScore = (playerScore + p3v) % 10;
                if (bankerScore <= 2 || (bankerScore === 3 && p3v !== 8) || (bankerScore === 4 && [2,3,4,5,6,7].includes(p3v)) || (bankerScore === 5 && [4,5,6,7].includes(p3v)) || (bankerScore === 6 && [6,7].includes(p3v))) {
                    bankerNeedsCard = true;
                }
            } else if (bankerScore <= 5) {
                bankerNeedsCard = true;
            }
            if (bankerNeedsCard) {
                const b3 = deck.pop();
                bankerScore = (bankerScore + getBaccaratValue(b3)) % 10;
            }
        }
        let winner = '';
        if (playerScore > bankerScore) { winner = 'player'; } 
        else if (bankerScore > playerScore) { winner = 'banker'; } 
        else { winner = 'tie'; }
        historyLog.push(winner);
        sessionStats[winner]++;
        sessionStats.total++;
        updateStatsChart();
        updateBeadRoadDisplay();
        const winnerMap = { player: 'Player', banker: 'Banker', tie: 'H√≤a' };
        animateText(dom.ai.logText, `K·∫æT QU·∫¢ V√ÅN TR∆Ø·ªöE: ${winnerMap[winner].toUpperCase()}. // CH·∫æ ƒê·ªò CH·ªú //`);
        dom.predictButton.disabled = false;
        dom.ai.avatar.classList.remove('analyzing');
    }
    function populateTables() {
        const l = dom.lobbySelect.value;
        dom.tableSelect.innerHTML = '<option value="">-- CH·ªú CH·ªåN KHU V·ª∞C --</option>';
        if (l && tablesByLobby[l]) {
            tablesByLobby[l].forEach(t => {
                const o = document.createElement('option');
                o.value = t; o.textContent = t; dom.tableSelect.appendChild(o);
            });
            dom.tableSelect.disabled = false;
        } else { dom.tableSelect.disabled = true; }
    }
    document.addEventListener('DOMContentLoaded', () => {
        accounts = {
            "843190": { coins: 50 }, "772045": { coins: 50 }, "103854": { coins: 50 },
            "562911": { coins: 50 }, "930258": { coins: 50 }, "417632": { coins: 50 },
            "605894": { coins: 50 }, "281743": { coins: 50 }, "339501": { coins: 50 },
            "745128": { coins: 50 }, "881239": { coins: 50 }, "056842": { coins: 50 },
            "192473": { coins: 50 }, "528116": { coins: 50 }, "670395": { coins: 50 },
            "409821": { coins: 50 }, "215688": { coins: 50 }, "994730": { coins: 50 },
            "368057": { coins: 50 }, "710964": { coins: 50 }
        };
        tablesByLobby = { 
            SEXY: ["C15", "C16", "C02", "C03", "C04", "BACARAT 3", "BACARAT 4", "BACARAT 5", "BACARAT 6", "BACARAT 7"], 
            DG: ["BACARAT A02", "BACARAT C02", "BACARAT D06", "BACARAT A03", "BACARAT C01", "BACARAT D05", "BACARAT C05", "BACARAT D01", "BACARAT D02"] 
        };
        historyLog = [];
        sessionStats = { player: 0, banker: 0, tie: 0, total: 0 };
        currentUser = null;

        dom = { sound: {}, settings: {}, ai: {}, modal: {} }; 
        dom.bootScreen = document.getElementById('boot-screen');
        dom.choiceScreen = document.getElementById('choiceScreen');
        dom.loginScreen = document.getElementById('loginScreen');
        dom.appScreen = document.getElementById('app');
        dom.predictButton = document.getElementById('predictBtn');
        dom.lobbySelect = document.getElementById('lobby-select');
        dom.tableSelect = document.getElementById('table-select');
        dom.coinDisplay = document.getElementById('coin-display');
        dom.coinBalance = document.getElementById('coin-balance');
        dom.sound.music = document.getElementById('bg-music');
        dom.sound.click = document.getElementById('sfx-click');
        dom.sound.hover = document.getElementById('sfx-hover');
        dom.sound.typing = document.getElementById('sfx-typing');
        dom.sound.deal = document.getElementById('sfx-deal');
        dom.settings.panel = document.getElementById('settings-panel');
        dom.settings.musicToggle = document.getElementById('music-toggle');
        dom.settings.sfxToggle = document.getElementById('sfx-toggle');
        dom.ai.logText = document.getElementById('ai-log-text');
        dom.ai.avatar = document.getElementById('ai-avatar');
        dom.ai.predictionText = document.getElementById('ai-prediction-text');
        dom.ai.confidenceValue = document.getElementById('ai-confidence-value');
        dom.analysisDeck = document.getElementById('analysis-deck');
        dom.modal.container = document.getElementById('confirmation-modal');
        dom.modal.confirmBtn = document.getElementById('modal-confirm');
        dom.modal.cancelBtn = document.getElementById('modal-cancel');
        dom.matrixCanvas = document.getElementById('matrix-canvas');
        dom.modal.vipWarning = document.getElementById('vip-warning-modal');
        dom.modal.vipConfirmBtn = document.getElementById('vip-confirm');
        dom.modal.vipCancelBtn = document.getElementById('vip-cancel');

        const gotoAiBtn = document.getElementById('goto-ai-tool');
        const gotoScanBtn = document.getElementById('goto-scan-tool');
        gotoAiBtn.addEventListener('click', () => {
            dom.choiceScreen.classList.add('hidden');
            dom.loginScreen.classList.add('visible');
        });
        gotoScanBtn.addEventListener('click', () => {
            dom.modal.vipWarning.style.display = 'flex';
        });
        dom.modal.vipConfirmBtn.addEventListener('click', () => {
            playSound('click');
            dom.modal.vipWarning.style.display = 'none';
            window.open('http://www.soilabai.site', '_blank');
        });
        dom.modal.vipCancelBtn.addEventListener('click', () => {
            playSound('click');
            dom.modal.vipWarning.style.display = 'none';
        });

        const selectWrapper = document.querySelector('.custom-select-wrapper');
        const selectTrigger = selectWrapper.querySelector('.custom-select-trigger');
        const customOptions = selectWrapper.querySelectorAll('.custom-option');
        const realSelect = document.getElementById('mode-select');
        selectTrigger.addEventListener('click', () => {
            selectWrapper.classList.toggle('open');
        });
        customOptions.forEach(option => {
            option.addEventListener('click', () => {
                customOptions.forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
                selectTrigger.textContent = option.textContent;
                realSelect.value = option.dataset.value;
                selectWrapper.classList.remove('open');
                realSelect.dispatchEvent(new Event('change'));
            });
        });
        document.addEventListener('click', (e) => {
            if (selectWrapper && !selectWrapper.contains(e.target)) {
                selectWrapper.classList.remove('open');
            }
        });

        initializeChart();
        dom.lobbySelect.addEventListener('change', () => { playSound('click'); populateTables(); });
        dom.tableSelect.addEventListener('change', () => playSound('click'));
        populateTables();
        realSelect.addEventListener('change', (e) => {
            if (e.target.value === 'urgent') {
                dom.modal.container.style.display = 'flex';
            }
        });
        dom.modal.confirmBtn.addEventListener('click', () => {
            playSound('click');
            dom.modal.container.style.display = 'none';
        });
        dom.modal.cancelBtn.addEventListener('click', () => {
            playSound('click');
            dom.modal.container.style.display = 'none';
            realSelect.value = 'safe'; 
            selectTrigger.textContent = 'CH·∫æ ƒê·ªò AN TO√ÄN';
            customOptions.forEach(opt => opt.classList.remove('selected'));
            selectWrapper.querySelector('.custom-option[data-value="safe"]').classList.add('selected');
        });
        startBootSequence();
    });
  </script>
</body>
</html>
